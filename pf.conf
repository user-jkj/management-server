# インターフェース指定（wm0を指定）
ext_if="wm0"

# デフォルトのポリシー（全アクセスを拒否）
set block-policy drop
set skip on lo0  # ループバックインターフェース（lo0）上の接続はスキップ

# 外部ネットワークからの全ての接続を拒否
block in on $ext_if

# ローカルホストからの接続許可
pass in on lo0
pass out on lo0

# ホストOS側で取得するため、ポート8888へのローカル接続を許可
pass in on lo0 proto tcp from any to any port 8888

# 仮想環境内からの外部接続が必要であれば、次の行で許可（例: ホストOSの更新や他のネットワーク接続用）
pass out on $ext_if
